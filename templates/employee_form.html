<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
{% load static %}
<script src="{% static 'employee_form.js' %}"></script>
<link rel="stylesheet" href="{% static 'employee_form.css' %}">

{% include 'header.html' %}
<div class="container">
    <h1 style="margin-top: 10px;">Employee Form</h1>
    <div style="margin-top: 2%;">
        <!-- <form method="post" action="/new_employee">
            {% csrf_token %}
            <div class="mb-3">
                {{ form }}
            </div> -->
            
            <!-- {% for field in form %}
                <div class="mb-3">
                    {{ field }}
                </div>
            {% endfor %} -->

            <!-- <button type="submit" class="btn btn-primary">Submit</button>
        </form> -->
        <form action="/new_employee" method="post">
            {% csrf_token %}
            <div class="row">
                <div class="col-12 col-xl-8">
                    <div class="card card-body bg-white border-light mb-4">
                        <h2 class="h5 mb-4">Profile information</h2>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div>
                                    <label for="full_name">Full Name</label>
                                    {{ form.full_name }}
                                </div>
                            </div>

                            <div class="col-md-6">
                                <label for="gender">Gender</label>
                                {{ form.gender }}
                            </div>
                        </div>

                        <div class="row align-items-center mb-3">
                            <div class="col-md-6">
                                <label for="birthday">Birthday</label>
                                <div class="input-group">
                                   {{ form.birth }}
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    {{ form.email }}
                                </div>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="phone">Phone</label>
                                    {{ form.phone }}
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="address">Address</label>
                                    {{ form.address }}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group">
                                <label for="bio">Bio</label>
                                {{ form.bio }}
                            </div>
                        </div>

                        <h2 class="h5 my-4">Role</h2>
                        <div id="role" class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="role">Level</label>
                                    {{ form.level }}
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="speciality">Speciality</label>
                                    {{ form.speciality }}
                                </div>
                                <div id="skillssection"></div>
                            </div>  
                        </div>
                        <div class="mt-3">
                            <button type="submit" name="create_employee" class="btn btn-primary">Save</button>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card card-body bg-white border-light mb-4">
                            <h2 class="h5 mb-4">Language</h2>
                            <form action="/new_employee" method="post">
                                {% csrf_token %}
                                <div class="row mb-3">
                                    <div class="col-md-6 language-form">
                                        <label for="language">Employee</label>
                                        {{ employee_language.employee }}
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6 language-form">
                                        <label for="language">Language</label>
                                        {{ language.language }}
                                        <div id="language_options" class="dropdown-content">
                                            {% for lang in languages %}
                                                <a id="{{ lang }}" onclick="choose('{{ lang }}', 'language', 'language_options')">{{ lang }}</a>
                                            {% endfor %}
                                        </div>
                                    </div>
                    
                                    <div class="col-md-3 language-form">
                                        <label for="language">Rate</label>
                                        {{ employee_language.rate }}
                                    </div>
                    
                                    <div class="col-md-3 mt-4">
                                        <button type="submit" name="add_language" class="btn btn-primary">Add</button>
                                    </div>
                                </div>
                            </form>
                            <h2 class="h5 my-4">Skills</h2>
                            <div class="row mb-3">
                                <div class="col-md-6 language-form">
                                    <label for="language">Employee</label>
                                    {{ emp_soft_skill_form.employee }}
                                </div>
                                <div class="col-md-6 language-form">
                                    <label for="language">Employee</label>
                                    {{ emp_hard_skill_form.employee }}
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <label for="speciality">Soft skill</label>
                                    {{ soft_skill.soft_skill }}
                                    <div id="soft_options" class="dropdown-content">
                                        {% for skill in soft_skills %}
                                            <a id="{{ skill }}" onclick="choose('{{ skill }}', 'soft_skill', 'soft_options')">{{ skill.soft_skill }}</a>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                                <div class="col-sm-2">
                                    <label for="speciality">Rate</label>
                                    {{ emp_soft_skill_form.rate }}
                                </div>
    
                                <div class="col-md-1 mt-4">
                                    <button type="submit" name="add_soft_skill" class="btn btn-primary" onclick="">Add</button>
                                </div>
    
                                <div class="col-sm-3">
                                    <label for="speciality">Hard skill</label>
                                    {{ hard_skill.hard_skill }}
                                    <div id="hard_options" class="dropdown-content">
                                        {% for skill in hard_skills %}
                                            <a id="{{ skill.id }}" onclick="choose('{{ skill.id }}', 'hard_skill', 'hard_options')">{{ skill.hard_skill }}</a>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                                <div class="col-sm-2">
                                    <label for="speciality">Rate</label>
                                    {{ emp_hard_skill_form.rate }}
                                </div>
    
                                <div class="col-md-1 mt-4">
                                    <button type="submit" name="add_hard_skill" class="btn btn-primary">Add</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4">
                    <div class="row">
                        <div class="col-12">
                            <div class="card card-body bg-white border-light mb-4">
                                <h2 class="h5 mb-4">Select profile photo</h2>
                                <input name="avatar" type="file" class="form-control mb-3">
                                <div class="form-group">
                                    {{ form.image }}
                                </div>
                                <p>JPG, GIF or PNG. Max size of 800K</p>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="card card-body bg-white border-light mb-4">
                                <h2 class="h5 mb-4">References</h2>
                                {% include 'reference.html' %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>